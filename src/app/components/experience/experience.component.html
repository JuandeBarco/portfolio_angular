<section id="experience" class="experience-section">
  <div class="container">
    <h2 class="section-title">Experiencia Laboral</h2>
    
    <div class="experience-timeline">
      <div class="timeline-item" *ngFor="let job of experience; let i = index">
        <div class="timeline-marker" [class.current]="job.isCurrent">
          <mat-icon *ngIf="job.isCurrent">work</mat-icon>
          <div class="marker-dot" *ngIf="!job.isCurrent"></div>
        </div>
        
        <mat-card class="experience-card" [class.current-job]="job.isCurrent">
          <mat-card-content>
            <div class="job-header">
              <div class="job-title-section">
                <h3 class="job-position">{{ job.position }}</h3>
                <h4 class="job-company">{{ job.company }}</h4>
                <div class="job-location">
                  <mat-icon>location_on</mat-icon>
                  <span>{{ job.location }}</span>
                </div>
              </div>
              
              <div class="job-dates">
                <div class="date-range">
                  <span class="start-date">{{ formatDate(job.startDate) }}</span>
                  <span class="separator">-</span>
                  <span class="end-date" *ngIf="!job.isCurrent">{{ formatDate(job.endDate!) }}</span>
                  <span class="current" *ngIf="job.isCurrent">Presente</span>
                </div>
                <div class="duration">{{ getDuration(job.startDate, job.endDate) }}</div>
              </div>
            </div>
            
            <p class="job-description">{{ job.description }}</p>
            
            <div class="job-achievements">
              <h5>Logros Principales:</h5>
              <ul>
                <li *ngFor="let achievement of job.achievements">{{ achievement }}</li>
              </ul>
            </div>
            
            <div class="job-technologies">
              <h5>Tecnologías:</h5>
              <div class="tech-chips">
                <mat-chip *ngFor="let tech of job.technologies" class="tech-chip">
                  {{ tech }}
                </mat-chip>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
    
    <div class="experience-summary">
      <mat-card class="summary-card">
        <mat-card-content>
          <h3>Resumen de Carrera</h3>
          <div class="summary-stats">
            <div class="stat-item">
              <div class="stat-number">{{ experience.length }}</div>
              <div class="stat-label">Posiciones</div>
            </div>
            <div class="stat-item">
              <div class="stat-number">5+</div>
              <div class="stat-label">Años de Experiencia</div>
            </div>
            <div class="stat-item">
              <div class="stat-number">20+</div>
              <div class="stat-label">Proyectos Completados</div>
            </div>
            <div class="stat-item">
              <div class="stat-number">8</div>
              <div class="stat-label">Equipo Liderado</div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</section>
